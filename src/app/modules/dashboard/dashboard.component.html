<h1 class="tui-text_h6">Dashboard</h1>
<div class="row justify-content-between mb-3">
  <div class="mb-2 tui-text_h4 col-auto">
    <div
      [class.tui-skeleton]="loadingService.initialLoading$ | async"
      [class.fade-in-animated]="!(loadingService.initialLoading$ | async)"
      class="welcome-text"
    >
      Hi, {{ $userName | async }}
    </div>
  </div>
  <div class="d-flex justify-content-lg-end col-auto row">
    <button
      class="col-md-4 mx-2 mb-2"
      tuiButton
      type="button"
      appearance="secondary"
    >
      New report
    </button>
    <button
      class="col-md-4 mx-2 mb-2"
      tuiButton
      type="button"
      appearance="secondary"
    >
      New Meeting
    </button>
    <button
      class="col-md-4 mx-2 mb-2"
      tuiButton
      type="button"
      appearance="secondary"
      icon="tuiIconPlay"
    >
      Badge in
    </button>
  </div>
</div>
<div class="row">
  <div class="col-sm-4 mb-3">
    <div
      class="container content-island-short redirect p-3 gradient-1"
      [class.tui-skeleton]="loadingService.initialLoading$ | async"
      [class.fade-in-animated]="!(loadingService.initialLoading$ | async)"
    >
      <h3 class="col mb-2">Up next</h3>
      <div class="tui-text_h6">
        {{ nextAppointment.type }}
      </div>
      <div class="col-auto">
        {{ nextAppointment.date.toLocaleTimeString() }} -
        {{ nextAppointment.date.toLocaleTimeString() }}
      </div>
      <div class="col">
        <div class="row">
          <div class="col-auto sub-icon">
            <tui-svg src="tuiIconPin"></tui-svg>
          </div>
          <div class="col-auto">{{ nextAppointment.room }}</div>
        </div>
      </div>
      <div class="col container-fluid">
        <div class="row justify-content-end">
          <tui-avatar
            *ngFor="let person of nextAppointment.people"
            [title]="person.Fullname"
            [text]="person.Fullname"
            [rounded]="true"
            [autoColor]="true"
          ></tui-avatar>
        </div>
      </div>
    </div>
  </div>
  <div class="col-sm-4 mb-3">
    <div
      class="content-island-short p-3"
      [class.tui-skeleton]="loadingService.initialLoading$ | async"
      [class.fade-in-animated]="!(loadingService.initialLoading$ | async)"
    >
      <h3 class="mb-2">Scheduled appointments</h3>
      <div class="row justify-content-between mb-2">
        <div class="col-auto tui-text_h6">Today</div>
        <div class="col-auto tui-text_h6">{{ appoiontmentsScheduled.day }}</div>
      </div>
      <div class="row justify-content-between">
        <div class="col-auto">Week</div>
        <div class="col-auto tui-text_body-m">
          {{ appoiontmentsScheduled.week }}
        </div>
      </div>
      <div class="row justify-content-between">
        <div class="col-auto">Month</div>
        <div class="col-auto tui-text_body-m">
          {{ appoiontmentsScheduled.month }}
        </div>
      </div>
      <div class="row justify-content-between">
        <div class="col-auto">Total</div>
        <div class="col-auto tui-text_body-m">
          {{ appoiontmentsScheduled.total }}
        </div>
      </div>
    </div>
  </div>
  <div class="col-sm-4 mb-3">
    <div
      class="content-island-short p-3"
      [class.tui-skeleton]="loadingService.initialLoading$ | async"
      [class.fade-in-animated]="!(loadingService.initialLoading$ | async)"
    >
      <h3 class="mb-2">Time worked</h3>
      <div class="row justify-content-between mb-2">
        <div class="col-auto tui-text_h6">Today</div>
        <div class="col-auto tui-text_h6">
          {{ secondsWorked.day / 60 / 60 | number: ".1-1" }} h
        </div>
      </div>
      <div class="row justify-content-between">
        <div class="col-auto">Week</div>
        <div class="col-auto tui-text_body-m">
          {{ secondsWorked.week / 60 / 60 | number: ".1-1" }} h
        </div>
      </div>
      <div class="row justify-content-between">
        <div class="col-auto">Month</div>
        <div class="col-auto tui-text_body-m">
          {{ secondsWorked.month / 60 / 60 | number: ".1-1" }} h
        </div>
      </div>
      <div class="row justify-content-between">
        <div class="col-auto">Total</div>
        <div class="col-auto tui-text_body-m">
          {{ secondsWorked.total / 60 / 60 | number: ".1-1" }} h
        </div>
      </div>
    </div>
  </div>
</div>
<div class="row">
  <div class="col-md-6">
    <div
      class="content-island mb-3 p-3"
      [class.tui-skeleton]="loadingService.initialLoading$ | async"
      [class.fade-in-animated]="!(loadingService.initialLoading$ | async)"
    >
      <h3 class="col-auto mb-2">News</h3>
      <div class="row justify-content-between">
        <div class="col-auto">
          <h4 class="col-auto tui-text_h6">{{ news.title }}</h4>
          <div>{{ news.description }}</div>
        </div>
        <div class="col-auto">
          <tui-avatar
            [title]="news.author.Fullname"
            [text]="news.author.Fullname"
            [rounded]="true"
            [autoColor]="true"
          ></tui-avatar>
        </div>
      </div>
    </div>
    <div
      class="content-island mb-3 p-3"
      [class.tui-skeleton]="loadingService.initialLoading$ | async"
      [class.fade-in-animated]="!(loadingService.initialLoading$ | async)"
    >
      <h3>Workload</h3>
      <tui-line-chart
        [x]="0"
        [y]="0"
        [width]="4"
        [height]="24"
        [smoothingFactor]="30"
        [value]="workload"
        [filled]="true"
      ></tui-line-chart>
    </div>
  </div>
  <div class="col-md-6 mb-3">
    <div
      class="content-island calendar p-3"
      [class.tui-skeleton]="loadingService.initialLoading$ | async"
      [class.fade-in-animated]="!(loadingService.initialLoading$ | async)"
    >
      <h3 class="mb-2">Upcoming appointments</h3>
      <div class="row justify-content-between mb-3" *ngFor="let appointment of appointments">
        <div class="col-auto">
          <div class="tui-text_h6">
            {{ appointment.type }}
          </div>
          <div>
            {{ appointment.date.toLocaleTimeString() }} -
            {{ appointment.date.toLocaleTimeString() }}
          </div>
        </div>
        <div class="col-auto">
          <tui-avatar
            *ngFor="let person of nextAppointment.people"
            [title]="person.Fullname"
            [text]="person.Fullname"
            [rounded]="true"
            [autoColor]="true"
          ></tui-avatar>
        </div>
      </div>
    </div>
  </div>
</div>
